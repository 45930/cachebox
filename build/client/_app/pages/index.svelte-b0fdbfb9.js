import{S as F,i as W,s as q,e as m,t as N,k as O,c as h,a as v,h as S,d as f,m as G,b as w,g as M,G as l,O as J,K as j,P as Q,l as K,N as I,L as z,j as X,Q as Y,v as Z,R as $,T as ee}from"../chunks/vendor-77d161ad.js";import{s as L}from"../chunks/stores-529f546e.js";import{g as H}from"../chunks/navigation-c0b2019f.js";import"../chunks/singletons-a6a7384f.js";function x(d){let t,e,s,n,r,u,p,c,_,o,a,i,E,b,T,D,V;return{c(){t=m("div"),e=m("div"),s=m("h2"),n=N("New Game"),r=O(),u=m("p"),p=N("Fill out form to start new game"),c=O(),_=m("label"),o=N("Username: "),a=m("input"),i=O(),E=m("div"),b=m("button"),T=N("OK"),this.h()},l(y){t=h(y,"DIV",{class:!0});var k=v(t);e=h(k,"DIV",{class:!0});var g=v(e);s=h(g,"H2",{class:!0});var C=v(s);n=S(C,"New Game"),C.forEach(f),r=G(g),u=h(g,"P",{class:!0});var U=v(u);p=S(U,"Fill out form to start new game"),U.forEach(f),c=G(g),_=h(g,"LABEL",{});var P=v(_);o=S(P,"Username: "),a=h(P,"INPUT",{}),P.forEach(f),i=G(g),E=h(g,"DIV",{class:!0});var A=v(E);b=h(A,"BUTTON",{});var R=v(b);T=S(R,"OK"),R.forEach(f),A.forEach(f),g.forEach(f),k.forEach(f),this.h()},h(){w(s,"class","svelte-1jew7dw"),w(u,"class","svelte-1jew7dw"),w(E,"class","actions svelte-1jew7dw"),w(e,"class","contents svelte-1jew7dw"),w(t,"class","modal svelte-1jew7dw")},m(y,k){M(y,t,k),l(t,e),l(e,s),l(s,n),l(e,r),l(e,u),l(u,p),l(e,c),l(e,_),l(_,o),l(_,a),J(a,d[1]),l(e,i),l(e,E),l(E,b),l(b,T),D||(V=[j(a,"input",d[4]),j(b,"click",d[2])],D=!0)},p(y,k){k&2&&a.value!==y[1]&&J(a,y[1])},d(y){y&&f(t),D=!1,Q(V)}}}function te(d){let t,e=d[0]&&x(d);return{c(){e&&e.c(),t=K()},l(s){e&&e.l(s),t=K()},m(s,n){e&&e.m(s,n),M(s,t,n)},p(s,[n]){s[0]?e?e.p(s,n):(e=x(s),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},i:I,o:I,d(s){e&&e.d(s),s&&f(t)}}}function se(d,t,e){let{isOpen:s}=t,{getSession:n=()=>{}}=t,r;const u=async function(){const c={user:r,tile:"beach_landing"};await fetch("/gameState",{headers:{"content-type":"application/json"},method:"POST",body:JSON.stringify(c)}),n(),z(),H("/play/beach_landing")};function p(){r=this.value,e(1,r)}return d.$$set=c=>{"isOpen"in c&&e(0,s=c.isOpen),"getSession"in c&&e(3,n=c.getSession)},[s,r,u,n,p]}class ae extends F{constructor(t){super();W(this,t,se,te,q,{isOpen:0,getSession:3})}}function B(d){let t,e,s,n,r,u,p=JSON.stringify(d[0])+"",c,_,o;return{c(){t=m("div"),e=m("p"),s=N("CONTINUE GAME"),n=O(),r=m("p"),u=N("Current Game State: "),c=N(p),this.h()},l(a){t=h(a,"DIV",{class:!0});var i=v(t);e=h(i,"P",{class:!0});var E=v(e);s=S(E,"CONTINUE GAME"),E.forEach(f),n=G(i),r=h(i,"P",{});var b=v(r);u=S(b,"Current Game State: "),c=S(b,p),b.forEach(f),i.forEach(f),this.h()},h(){w(e,"class","text-xl font-bold"),w(t,"class","justify-center mx-auto mb-16 border-2 border-solid border-sky-800 rounded px-2 py-2")},m(a,i){M(a,t,i),l(t,e),l(e,s),l(t,n),l(t,r),l(r,u),l(r,c),_||(o=j(t,"click",d[3]),_=!0)},p(a,i){i&1&&p!==(p=JSON.stringify(a[0])+"")&&X(c,p)},d(a){a&&f(t),_=!1,o()}}}function le(d){let t,e,s,n,r,u,p,c,_,o=d[0]&&d[0].user!="null_user"&&B(d);return{c(){t=m("div"),e=m("div"),s=m("p"),n=N("NEW GAME"),r=O(),u=m("div"),p=O(),o&&o.c(),this.h()},l(a){t=h(a,"DIV",{class:!0});var i=v(t);e=h(i,"DIV",{class:!0});var E=v(e);s=h(E,"P",{class:!0});var b=v(s);n=S(b,"NEW GAME"),b.forEach(f),E.forEach(f),r=G(i),u=h(i,"DIV",{class:!0}),v(u).forEach(f),p=G(i),o&&o.l(i),i.forEach(f),this.h()},h(){w(s,"class","text-xl font-bold"),w(e,"class","justify-center mx-auto mb-16 border-2 border-solid border-sky-800 rounded px-2 py-2"),w(u,"class","w-full"),w(t,"class","justify-center flex flex-wrap")},m(a,i){M(a,t,i),l(t,e),l(e,s),l(s,n),l(t,r),l(t,u),l(t,p),o&&o.m(t,null),c||(_=j(e,"click",d[2]),c=!0)},p(a,[i]){a[0]&&a[0].user!="null_user"?o?o.p(a,i):(o=B(a),o.c(),o.m(t,null)):o&&(o.d(1),o=null)},i:I,o:I,d(a){a&&f(t),o&&o.d(),c=!1,_()}}}function ne(d,t,e){let s;Y(d,L,c=>e(0,s=c)),Z(async()=>{await n()});const n=async function(){const _=await(await fetch("/gameState",{headers:{"content-type":"application/json"},method:"GET"})).json();console.log(_),$(L,s=_,s)},r=function(){ee(ae,{getSession:n})};return[s,r,()=>r(),()=>H(`/play/${s.tile}`)]}class de extends F{constructor(t){super();W(this,t,ne,le,q,{})}}export{de as default};
