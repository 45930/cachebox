import{_ as Q}from"../../../chunks/preload-helper-e4860ae8.js";import{D as z,V as Z,S as x,i as $,s as ee,e as y,t as C,k as w,c as k,a as S,h as R,m as E,d as g,b as D,g as V,G as v,K as j,j as T,O as W,W as N,N as Y,Q as O,v as te,R as oe}from"../../../chunks/vendor-c7513497.js";import{g as ne}from"../../../chunks/navigation-bd39ff07.js";import"../../../chunks/singletons-a6a7384f.js";const se={},A=z(se),le={1:{message:["Welcome to the game.","Choose an action below, then enter the secret phrase once you know."],toSteps:[{id:2,prompt:"Examine article 1"},{id:3,prompt:"Look behind object 2"},{id:4,prompt:"Talk to character 3"}],snapp:{key:"secretPhrase",methods:[{name:"guessPhrase",label:"What is the secret phrase?",inputs:[{label:"",dtype:"string",value:null}]}]}},2:{message:["You chose option 1 - you learn that the first word is 'mina'"],toSteps:[{id:1,prompt:"Return Home"}]},3:{message:["You chose option 2 - you learn that the second word is 'is'"],toSteps:[{id:1,prompt:"Return Home"}]},4:{message:["You chose option 3 - you learn that the third word is 'cool'"],toSteps:[{id:1,prompt:"Return Home"}]}},ae=Z(le),ie=!1,re=async function(){await(await Q(()=>import("../../../chunks/montyHallSnapp-dc64f1fd.js"),["chunks/montyHallSnapp-dc64f1fd.js","chunks/index-b3f6643b.js"])).load(),J.set(!0)},J=z(ie);function B(n,e,s){const l=n.slice();return l[13]=e[s],l}function F(n,e,s){const l=n.slice();return l[16]=e[s],l[17]=e,l[18]=s,l}function U(n,e,s){const l=n.slice();return l[19]=e[s],l}function q(n){let e,s=n[19].prompt+"",l,_,h,p;function m(){return n[7](n[19])}return{c(){e=y("div"),l=C(s),_=w(),this.h()},l(d){e=k(d,"DIV",{class:!0});var a=S(e);l=R(a,s),_=E(a),a.forEach(g),this.h()},h(){D(e,"class","justify-center mx-auto mb-16 border-2 border-solid border-sky-800 rounded px-2 py-2")},m(d,a){V(d,e,a),v(e,l),v(e,_),h||(p=j(e,"click",m),h=!0)},p(d,a){n=d,a&2&&s!==(s=n[19].prompt+"")&&T(l,s)},d(d){d&&g(e),h=!1,p()}}}function G(n){let e,s,l=n[1].snapp.key+"",_,h,p,m,d,a=n[1].snapp.methods,i=[];for(let o=0;o<a.length;o+=1)i[o]=M(B(n,a,o));return{c(){e=y("div"),s=y("div"),_=C(l),h=w();for(let o=0;o<i.length;o+=1)i[o].c();p=w(),m=y("div"),d=C(n[0]),this.h()},l(o){e=k(o,"DIV",{id:!0});var r=S(e);s=k(r,"DIV",{});var t=S(s);_=R(t,l),t.forEach(g),h=E(r);for(let u=0;u<i.length;u+=1)i[u].l(r);r.forEach(g),p=E(o),m=k(o,"DIV",{id:!0});var b=S(m);d=R(b,n[0]),b.forEach(g),this.h()},h(){D(e,"id","snapp"),D(m,"id","feedback")},m(o,r){V(o,e,r),v(e,s),v(s,_),v(e,h);for(let t=0;t<i.length;t+=1)i[t].m(e,null);V(o,p,r),V(o,m,r),v(m,d)},p(o,r){if(r&2&&l!==(l=o[1].snapp.key+"")&&T(_,l),r&6){a=o[1].snapp.methods;let t;for(t=0;t<a.length;t+=1){const b=B(o,a,t);i[t]?i[t].p(b,r):(i[t]=M(b),i[t].c(),i[t].m(e,null))}for(;t<i.length;t+=1)i[t].d(1);i.length=a.length}r&1&&T(d,o[0])},d(o){o&&g(e),N(i,o),o&&g(p),o&&g(m)}}}function K(n){let e,s,l;function _(){n[8].call(e,n[17],n[18])}return{c(){e=y("input"),this.h()},l(h){e=k(h,"INPUT",{type:!0,class:!0}),this.h()},h(){D(e,"type","string"),D(e,"class","w-100 px-4 py-1 font-normal text-gray-700 bg-white border border-solid border-gray-300 rounded m-0")},m(h,p){V(h,e,p),W(e,n[16].value),s||(l=j(e,"input",_),s=!0)},p(h,p){n=h,p&2&&W(e,n[16].value)},d(h){h&&g(e),s=!1,l()}}}function M(n){let e,s,l=n[13].label+"",_,h,p,m,d,a,i,o,r=n[13].inputs,t=[];for(let u=0;u<r.length;u+=1)t[u]=K(F(n,r,u));function b(){return n[9](n[13])}return{c(){e=y("div"),s=y("h2"),_=C(l),h=w();for(let u=0;u<t.length;u+=1)t[u].c();p=w(),m=y("button"),d=C("Submit"),a=w()},l(u){e=k(u,"DIV",{});var c=S(e);s=k(c,"H2",{});var f=S(s);_=R(f,l),f.forEach(g),h=E(c);for(let P=0;P<t.length;P+=1)t[P].l(c);p=E(c),m=k(c,"BUTTON",{});var I=S(m);d=R(I,"Submit"),I.forEach(g),a=E(c),c.forEach(g)},m(u,c){V(u,e,c),v(e,s),v(s,_),v(e,h);for(let f=0;f<t.length;f+=1)t[f].m(e,null);v(e,p),v(e,m),v(m,d),v(e,a),i||(o=j(m,"click",b),i=!0)},p(u,c){if(n=u,c&2&&l!==(l=n[13].label+"")&&T(_,l),c&2){r=n[13].inputs;let f;for(f=0;f<r.length;f+=1){const I=F(n,r,f);t[f]?t[f].p(I,c):(t[f]=K(I),t[f].c(),t[f].m(e,p))}for(;f<t.length;f+=1)t[f].d(1);t.length=r.length}},d(u){u&&g(e),N(t,u),i=!1,o()}}}function ce(n){let e,s,l=n[1].message[0]+"",_,h,p,m,d=n[1].toSteps,a=[];for(let o=0;o<d.length;o+=1)a[o]=q(U(n,d,o));let i=n[1].snapp&&G(n);return{c(){e=y("div"),s=y("div"),_=C(l),h=w(),p=y("div");for(let o=0;o<a.length;o+=1)a[o].c();m=w(),i&&i.c(),this.h()},l(o){e=k(o,"DIV",{class:!0});var r=S(e);s=k(r,"DIV",{id:!0});var t=S(s);_=R(t,l),t.forEach(g),h=E(r),p=k(r,"DIV",{id:!0});var b=S(p);for(let u=0;u<a.length;u+=1)a[u].l(b);b.forEach(g),m=E(r),i&&i.l(r),r.forEach(g),this.h()},h(){D(s,"id","message"),D(p,"id","choices"),D(e,"class","container")},m(o,r){V(o,e,r),v(e,s),v(s,_),v(e,h),v(e,p);for(let t=0;t<a.length;t+=1)a[t].m(p,null);v(e,m),i&&i.m(e,null)},p(o,[r]){if(r&2&&l!==(l=o[1].message[0]+"")&&T(_,l),r&2){d=o[1].toSteps;let t;for(t=0;t<d.length;t+=1){const b=U(o,d,t);a[t]?a[t].p(b,r):(a[t]=q(b),a[t].c(),a[t].m(p,null))}for(;t<a.length;t+=1)a[t].d(1);a.length=d.length}o[1].snapp?i?i.p(o,r):(i=G(o),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},i:Y,o:Y,d(o){o&&g(e),N(a,o),i&&i.d()}}}const _e=async function({url:n,params:e,fetch:s,session:l,context:_}){return{props:{stepId:e.i}}};function pe(n,e,s){let l,_,h,p,m,d;O(n,A,c=>s(4,p=c)),O(n,J,c=>s(5,m=c)),O(n,ae,c=>s(6,d=c));let{stepId:a}=e,i="";te(async()=>{if(await o(),l.snapp){const f=await(await Q(()=>import("../../../chunks/secretPhraseSnapp-b33ec8eb.js"),["chunks/secretPhraseSnapp-b33ec8eb.js","chunks/index-b3f6643b.js"])).deploy();oe(A,p[l.snapp.key]={interface:f,address:f.address},p)}});const o=async function(){_||await re()},r=async function(c,f){const I=h[l.snapp.key],P=Reflect.get(I.interface,c),X=f.map(H=>H.value);let L;try{L=await Reflect.apply(P,I.interface,X)}catch(H){L=H}console.log(L),s(0,i=L)},t=c=>ne(`/play/scene-${c.id}`,{replaceState:!0});function b(c,f){c[f].value=this.value,s(1,l),s(6,d),s(3,a)}const u=c=>r(c.name,c.inputs);return n.$$set=c=>{"stepId"in c&&s(3,a=c.stepId)},n.$$.update=()=>{n.$$.dirty&72&&s(1,l=d[a]),n.$$.dirty&32&&(_=m),n.$$.dirty&16&&(h=p)},[i,l,r,a,p,m,d,t,b,u]}class me extends x{constructor(e){super();$(this,e,pe,ce,ee,{stepId:3})}}export{me as default,_e as load};
