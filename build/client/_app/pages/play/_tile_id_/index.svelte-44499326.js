import{S as B,i as j,s as q,e as h,w as b,k,c as y,a as w,x as S,m as x,d as v,b as f,g as L,y as C,G as u,q as D,o as T,B as E,Q as N}from"../../../chunks/vendor-fc529e69.js";import{L as P,T as U,l as G}from"../../../chunks/_tileMovements-bf43bc63.js";import{T as J}from"../../../chunks/_tilePrompt-6c4fd578.js";import{a as M}from"../../../chunks/navigation-13fd7038.js";import O from"../canvas/index.svelte-e4f9510c.js";import"../../../chunks/singletons-d1fb5791.js";function Q(o){let t,r,p,n,s,a,I,c,V,d,l,_;return r=new O({props:{tileConfig:o[0]}}),a=new J({props:{prompt:o[0].prompt}}),c=new P({}),l=new U({props:{movements:o[0].movements}}),{c(){t=h("div"),b(r.$$.fragment),p=k(),n=h("div"),s=h("div"),b(a.$$.fragment),I=k(),b(c.$$.fragment),V=k(),d=h("div"),b(l.$$.fragment),this.h()},l(e){t=y(e,"DIV",{class:!0});var i=w(t);S(r.$$.fragment,i),p=x(i),n=y(i,"DIV",{class:!0});var m=w(n);s=y(m,"DIV",{id:!0,class:!0});var $=w(s);S(a.$$.fragment,$),$.forEach(v),I=x(m),S(c.$$.fragment,m),V=x(m),d=y(m,"DIV",{id:!0,class:!0});var g=w(d);S(l.$$.fragment,g),g.forEach(v),m.forEach(v),i.forEach(v),this.h()},h(){f(s,"id","tile-prompt"),f(s,"class","p-2 mb-12 rounded border-neutral-200 border-solid border-2 bg-white opacity-80"),f(d,"id","tile-movements"),f(d,"class","w-2xl mb-4 p-2 rounded border-neutral-200 border-solid border-2"),f(n,"class","relative bottom-36"),f(t,"class","container flex justify-center flex-wrap")},m(e,i){L(e,t,i),C(r,t,null),u(t,p),u(t,n),u(n,s),C(a,s,null),u(n,I),C(c,n,null),u(n,V),u(n,d),C(l,d,null),_=!0},p(e,[i]){const m={};i&1&&(m.tileConfig=e[0]),r.$set(m);const $={};i&1&&($.prompt=e[0].prompt),a.$set($);const g={};i&1&&(g.movements=e[0].movements),l.$set(g)},i(e){_||(D(r.$$.fragment,e),D(a.$$.fragment,e),D(c.$$.fragment,e),D(l.$$.fragment,e),_=!0)},o(e){T(r.$$.fragment,e),T(a.$$.fragment,e),T(c.$$.fragment,e),T(l.$$.fragment,e),_=!1},d(e){e&&v(t),E(r),E(a),E(c),E(l)}}}const X=async function({url:o,params:t,fetch:r,session:p,context:n}){return{props:{tile:t.tile_id}}};function z(o,t,r){let p,n;N(o,G,a=>r(2,n=a));let{tile:s}=t;return M(()=>{fetch("/gameState",{headers:{"content-type":"application/json"},method:"PUT",body:JSON.stringify({tile:s})})}),o.$$set=a=>{"tile"in a&&r(1,s=a.tile)},o.$$.update=()=>{o.$$.dirty&6&&r(0,p=n[s])},[p,s,n]}class Y extends B{constructor(t){super();j(this,t,z,Q,q,{tile:1})}}export{Y as default,X as load};
