import{S as k,i as B,s as j,e as q,w as p,k as h,c as x,a as C,x as f,m as v,d as b,b as D,g as I,y as $,G as y,q as u,o as g,B as _,Q as L}from"../../../chunks/vendor-77d161ad.js";import{L as N,T as P,l as U}from"../../../chunks/_tileMovements-f91a8224.js";import{T as E,a as G}from"../../../chunks/_tileInteractions-9c3c4194.js";import{a as J}from"../../../chunks/navigation-c0b2019f.js";import"../../../chunks/singletons-a6a7384f.js";function M(i){let t,a,l,r,o,s,d,m,c;return a=new E({props:{prompt:i[0].prompt}}),r=new N({}),s=new G({props:{interactions:i[0].interactions}}),m=new P({props:{movements:i[0].movements}}),{c(){t=q("div"),p(a.$$.fragment),l=h(),p(r.$$.fragment),o=h(),p(s.$$.fragment),d=h(),p(m.$$.fragment),this.h()},l(e){t=x(e,"DIV",{class:!0});var n=C(t);f(a.$$.fragment,n),l=v(n),f(r.$$.fragment,n),o=v(n),f(s.$$.fragment,n),d=v(n),f(m.$$.fragment,n),n.forEach(b),this.h()},h(){D(t,"class","container flex justify-center flex-wrap")},m(e,n){I(e,t,n),$(a,t,null),y(t,l),$(r,t,null),y(t,o),$(s,t,null),y(t,d),$(m,t,null),c=!0},p(e,[n]){const w={};n&1&&(w.prompt=e[0].prompt),a.$set(w);const S={};n&1&&(S.interactions=e[0].interactions),s.$set(S);const T={};n&1&&(T.movements=e[0].movements),m.$set(T)},i(e){c||(u(a.$$.fragment,e),u(r.$$.fragment,e),u(s.$$.fragment,e),u(m.$$.fragment,e),c=!0)},o(e){g(a.$$.fragment,e),g(r.$$.fragment,e),g(s.$$.fragment,e),g(m.$$.fragment,e),c=!1},d(e){e&&b(t),_(a),_(r),_(s),_(m)}}}const H=async function({url:i,params:t,fetch:a,session:l,context:r}){return{props:{tile:t.tile_id}}};function O(i,t,a){let l,r;L(i,U,s=>a(2,r=s));let{tile:o}=t;return J(()=>{fetch("/gameState",{headers:{"content-type":"application/json"},method:"PUT",body:JSON.stringify({tile:o})})}),i.$$set=s=>{"tile"in s&&a(1,o=s.tile)},i.$$.update=()=>{i.$$.dirty&6&&a(0,l=r[o])},[l,o,r]}class K extends k{constructor(t){super();B(this,t,O,M,j,{tile:1})}}export{K as default,H as load};
