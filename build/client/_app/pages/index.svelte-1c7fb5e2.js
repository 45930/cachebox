import{S as ae,i as oe,s as ne,e as u,t as m,k as j,c as d,a as f,h as b,d as c,m as M,b as i,g as q,G as a,O as Z,K as $,P as ie,l as ee,L as O,N as ce,Q as re,v as ue,R as de,T as fe}from"../chunks/vendor-fc529e69.js";import{s as te}from"../chunks/stores-0e9b45d8.js";import{g as le}from"../chunks/navigation-c0b2019f.js";import"../chunks/singletons-a6a7384f.js";function se(r){let t,e,s,n,h,o,l,p,y,I,D,x,P,V,z,T,C,G,w,W,g,A,S,E,L,B,H;return{c(){t=u("div"),e=u("div"),s=u("h2"),n=m("Welcome to Cahchebox"),h=j(),o=u("div"),l=u("p"),p=m("This is an escape game based on the "),y=u("a"),I=m("Mina"),D=m(`
					blockchain. Read more about the project on our
					`),x=u("a"),P=m("about page"),V=m("."),z=j(),T=u("p"),C=m("To test your logic and puzzle-solving skills, enter the game below!"),G=j(),w=u("label"),W=m("What can we call you?: "),g=u("input"),A=j(),S=u("div"),E=u("button"),L=m("ENTER"),this.h()},l(v){t=d(v,"DIV",{class:!0});var k=f(t);e=d(k,"DIV",{class:!0});var R=f(e);s=d(R,"H2",{class:!0});var J=f(s);n=b(J,"Welcome to Cahchebox"),J.forEach(c),h=M(R),o=d(R,"DIV",{class:!0});var _=f(o);l=d(_,"P",{class:!0});var N=f(l);p=b(N,"This is an escape game based on the "),y=d(N,"A",{class:!0,href:!0});var K=f(y);I=b(K,"Mina"),K.forEach(c),D=b(N,`
					blockchain. Read more about the project on our
					`),x=d(N,"A",{class:!0,href:!0});var Q=f(x);P=b(Q,"about page"),Q.forEach(c),V=b(N,"."),N.forEach(c),z=M(_),T=d(_,"P",{class:!0});var F=f(T);C=b(F,"To test your logic and puzzle-solving skills, enter the game below!"),F.forEach(c),G=M(_),w=d(_,"LABEL",{class:!0});var U=f(w);W=b(U,"What can we call you?: "),g=d(U,"INPUT",{class:!0}),U.forEach(c),A=M(_),S=d(_,"DIV",{class:!0});var X=f(S);E=d(X,"BUTTON",{class:!0});var Y=f(E);L=b(Y,"ENTER"),Y.forEach(c),X.forEach(c),_.forEach(c),R.forEach(c),k.forEach(c),this.h()},h(){i(s,"class","text-center text-xl font-bold"),i(y,"class","underline"),i(y,"href","https://minaprotocol.com/"),i(x,"class","underline"),i(x,"href","/about"),i(l,"class","text-left mt-2"),i(T,"class","text-left mt-2"),i(g,"class","form-control block w-sm px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none "),i(w,"class","mt-2"),i(E,"class","inline-block px-6 py-2.5 bg-neutral-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out"),i(S,"class","mt-6"),i(o,"class","flex flex-col mx-8"),i(e,"class","w-lg h-80 rounded-md p-4 bg-white flex flex-col justify-center pointer-events-auto"),i(t,"class","fixed top-0 bottom-0 right-0 left-0 flex justify-center pointer-events-none")},m(v,k){q(v,t,k),a(t,e),a(e,s),a(s,n),a(e,h),a(e,o),a(o,l),a(l,p),a(l,y),a(y,I),a(l,D),a(l,x),a(x,P),a(l,V),a(o,z),a(o,T),a(T,C),a(o,G),a(o,w),a(w,W),a(w,g),Z(g,r[1]),a(o,A),a(o,S),a(S,E),a(E,L),B||(H=[$(g,"input",r[4]),$(E,"click",r[2])],B=!0)},p(v,k){k&2&&g.value!==v[1]&&Z(g,v[1])},d(v){v&&c(t),B=!1,ie(H)}}}function he(r){let t,e=r[0]&&se(r);return{c(){e&&e.c(),t=ee()},l(s){e&&e.l(s),t=ee()},m(s,n){e&&e.m(s,n),q(s,t,n)},p(s,[n]){s[0]?e?e.p(s,n):(e=se(s),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},i:O,o:O,d(s){e&&e.d(s),s&&c(t)}}}function pe(r,t,e){let{isOpen:s}=t,{getSession:n=()=>{}}=t,h;const o=async function(){const p={user:h,tile:"beach_landing"};await fetch("/gameState",{headers:{"content-type":"application/json"},method:"POST",body:JSON.stringify(p)}),n(),ce(),le("/play/beach_landing")};function l(){h=this.value,e(1,h)}return r.$$set=p=>{"isOpen"in p&&e(0,s=p.isOpen),"getSession"in p&&e(3,n=p.getSession)},[s,h,o,n,l]}class me extends ae{constructor(t){super();oe(this,t,pe,he,ne,{isOpen:0,getSession:3})}}function be(r){let t;return{c(){t=u("div"),this.h()},l(e){t=d(e,"DIV",{class:!0}),f(t).forEach(c),this.h()},h(){i(t,"class","contianer")},m(e,s){q(e,t,s)},p:O,i:O,o:O,d(e){e&&c(t)}}}function ge(r,t,e){let s;re(r,te,o=>e(0,s=o)),ue(async()=>{await n(),s.user?le("/play"):h()});const n=async function(){const l=await(await fetch("/gameState",{headers:{"content-type":"application/json"},method:"GET"})).json();console.log(l),de(te,s=l,s)},h=function(){fe(me,{getSession:n})};return[]}class we extends ae{constructor(t){super();oe(this,t,ge,be,ne,{})}}export{we as default};
